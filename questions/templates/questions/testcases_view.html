{% load static %}
{% load widget_tweaks %}
{% load test_case_filters %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TestCases</title>

    <link href="{% static 'common_assests/materialize/css/materialize.css' %}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
          integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
<header>
    <nav>
        <div class="nav-wrapper cyan darken-4">
            <a href="#" class="brand-logo">Logo</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="sass.html">Sass</a></li>
                <li><a href="badges.html">Components</a></li>
                <li><a href="collapsible.html">JavaScript</a></li>
            </ul>
        </div>
    </nav>
</header>
<section>
    <div class="container">
        <div class="center-align">
            <h1 class="title flow-text">Test Cases for <a href="{% url 'home' %}">{{ question.title }}</a></h1>
        </div>
        <div class="row">
            {% for testcase in testcases %}
                <div class="col s12 m6 l4 ">
                    <div class="card pink darken-4">
                        <div class="card-content white-text" style="padding-bottom: 3%;">
                            <span class="card-title center">Test Case #{{ testcase.number }}</span>
                            <div class="row">
                                <div class="col s12 left-align valign-wrapper tooltipped" style="padding-top: 2vh;"
                                     data-position="left" data-tooltip="Last Edited On"><i class="material-icons"
                                                                                           style="padding-right: 3%">access_time</i>{{ testcase.last_edited_on }}
                                </div>
                                <div class="col s12 left-align valign-wrapper tooltipped" style="padding-top: 1.5vh;"
                                     data-position="left" data-tooltip="Points"><i
                                        class="material-icons" style="padding-right: 3%">stars</i>{{ testcase.points }}
                                    points
                                </div>
                                <div class="col s12 left-align valign-wrapper tooltipped" style="padding-top: 1.5vh;"
                                     data-position="left" data-tooltip="Click to view Input File"><i
                                        class="fas fa-file-import"
                                        style="font-size: 140%; padding-right: 5%"></i><a
                                        href="{{ testcase.input_file.url }}" target="_blank"
                                        class="light-blue-text">View
                                    Input File</a></div>
                                <div class="col s12 left-align valign-wrapper tooltipped" style="padding-top: 1.5vh;"
                                     data-position="left" data-tooltip="Click to view Output File"><i
                                        class="fas fa-file-export"
                                        style="font-size: 140%;padding-right: 2.2%;padding-left: 2%;"></i><a
                                        href="{{ testcase.output_file.url }}" target="_blank" class="light-blue-text">View
                                    Output
                                    File</a></div>

                            </div>
                        </div>
                        <div class="card-action">
                            <div class="row center valign-wrapper no-padding" style="margin: 0;">
                                <div class="col s3 center">
					<a href="javascript:void(0);" class="btn-floating btn waves-effect waves-light green darken-4 tooltipped"
                                       data-position="top" data-tooltip="View Stats"><i class="material-icons">assessment</i></a>
                                </div>
                                <div class="col s3">
					<a href="javascript:void(0);" class="btn-floating btn waves-effect waves-light purple darken-4 tooltipped"
                                       data-position="top" data-tooltip="Re-Run all Submissions"><i
                                            class="material-icons">replay</i></a>
                                </div>
                                <div class="col s3">
					<a href="{% url 'questions:testcase-edit' question.unique_code testcase.number %}" class="btn-floating btn waves-effect waves-light cyan darken-4 tooltipped"
                                       data-position="top" data-tooltip="Edit TestCase"><i
                                            class="material-icons">edit</i></a>
                                </div>
                                <div class="col s3">
					<a href="{% url 'questions:delete-testcase' question.unique_code testcase.number %}" class="btn-floating btn waves-effect waves-light red accent-4 tooltipped"
                                       data-position="top" data-tooltip="Delete TestCase"><i
                                            class="material-icons">delete_forever</i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
<section style="display: none;">
    <div class="container">
        <center>
            <h2>Test Cases for <a href="{% url 'home' %}">{{ question.title }}</a></h2>
        </center>
        {#    TODO Put Question view link here#}

        {% for testcase in testcases %}
            <div>
                Testcase #{{ testcase.number }}<br>
                <a href="{{ testcase.input_file.url }}">View Input File</a><br>
                <a href="{{ testcase.output_file.url }}">View Output File</a><br>
                Points : {{ testcase.points }}<br>

                <a href="{% url 'questions:testcase-edit' question.unique_code testcase.number %}">Edit Test Case</a>
                <a href="{% url 'home' %}">View Test Case Stats</a>
                {#        TODO Change this to stats page#}
                <br><br>
            </div>
        {% empty %}
            This question does not have any test cases yet.

        {% endfor %}

        {% if testcases|length < 10 %}
            <a href="{% url 'questions:testcase-create' question.unique_code %}">Create a test case</a>
        {% endif %}

    </div>
</section>
{#<script src="{% static 'common_assests/materialize/js/materialize.js' %}"></script>#}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>

<script>
    {% comment %} document.addEventListener('DOMContentLoaded', function() {
     var elems = document.querySelectorAll('.tooltipped');
     var instances = M.Tooltip.init(elems, options);
   });{% endcomment %}
    $(document).ready(function () {
        $('.tooltipped').tooltip();
    });
</script>
</body>
</html>
